import {Meta} from '@storybook/addon-docs';
import {
  ComponentContainer,
  Title,
  SampleLabelsBarChart,
  ExamplesGrid,
  Divider,
} from './components';
import {LineChart} from '../../LineChart';
import {DEFAULT_THEME, DEFAULT_THEME_NAME} from '@shopify/polaris-viz-core';

<Meta
  title="Shared/Formatting Values"
  parameters={{
    viewMode: 'docs',
    docsOnly: true,
  }}
/>

<Title>üè≠ Formatting Values</Title>

All charts that display values as text offer options to customize the way you can format them.

<Divider noLine />
<Title type="h2">Axis Values</Title>

You can pass in a custom function to format the values on the axis.

<ExamplesGrid cols={1}>
  <ComponentContainer
    codeSample={`
  <LineChart
  theme="Light"
  yAxisOptions={{
    labelFormatter: (value) => {
      return \`\${value} pickles\`;
    },
  }}
  xAxisOptions={{
    labelFormatter: (value) => {
      return \`\${new Date(value).toLocaleDateString('en-US', {
        dateStyle: 'medium',
      })}\`;
    },
  }}
  data={[
    {
      name: 'Sales',
      data: [
        {value: 13, key: '2022-01-02'},
        {value: 42, key: '2022-01-03'},
      ],
    },
  ]}
  showLegend={false}
/>
    `}
    theme={DEFAULT_THEME_NAME}
    center
    chart={
      <div
        style={{
          width: '100%',
          display: 'block',
          position: 'absolute',
          height: '140px',
          paddingTop: '20px',
        }}
      >
        <PolarisVizProvider
          themes={{
            [DEFAULT_THEME_NAME]: {
              chartContainer: {
                borderRadius: '0',
                padding: '0',
                backgroundColor: 'black',
              },
            },
          }}
        >
          <LineChart
            theme={DEFAULT_THEME_NAME}
            yAxisOptions={{
              labelFormatter: (value) => {
                return `${value} pickles`;
              },
            }}
            xAxisOptions={{
              labelFormatter: (value) => {
                return `${new Date(value).toLocaleDateString('en-US', {
                  dateStyle: 'medium',
                })}`;
              },
            }}
            data={[
              {
                name: 'Sales',
                data: [
                  {value: 13, key: '2020-01-02'},
                  {value: 42, key: '2020-01-03'},
                ],
              },
            ]}
            showLegend={false}
          />
        </PolarisVizProvider>
      </div>
    }
  />
</ExamplesGrid>

<Divider noLine />

<Title type="h2">Tooltip Values</Title>

You can also pass in a custom functions to format all the information displayed in the default tooltip.

<ExamplesGrid cols={1}>
  <ComponentContainer
    codeSample={`
  <LineChart
  theme="Light"
  tooltipOptions={{
    titleFormatter: (value) => {
      return \`üóì \${new Date(value).toLocaleDateString('en-US', {
        dateStyle: 'long',
      })}\`;
    },
    keyFormatter: (value) => {
      return \`\${value.toLowerCase()} \`;
    },
    valueFormatter: (value) => {
      return \`\${value} ü•í \`;
    },
  }}
  data={[
    {
      name: 'Sales',
      data: [
        {value: 13, key: '2022-01-02'},
        {value: 42, key: '2022-01-03'},
      ],
    },
  ]}
  showLegend={false}
/>
    `}
    theme={DEFAULT_THEME_NAME}
    center
    chart={
      <div
        style={{
          width: '100%',
          display: 'block',
          position: 'absolute',
          height: '140px',
          paddingTop: '20px',
        }}
      >
        <PolarisVizProvider
          themes={{
            [DEFAULT_THEME]: {
              chartContainer: {
                borderRadius: '0',
                padding: '0',
                backgroundColor: 'black',
              },
            },
          }}
        >
          <LineChart
            theme={DEFAULT_THEME_NAME}
            tooltipOptions={{
              titleFormatter: (value) => {
                return `üóì ${new Date(value).toLocaleDateString('en-US', {
                  dateStyle: 'long',
                })}`;
              },
              keyFormatter: (value) => {
                return `${value.toLowerCase()} `;
              },
              valueFormatter: (value) => {
                return `${value} ü•í `;
              },
            }}
            data={[
              {
                name: 'Sales',
                data: [
                  {value: 13, key: '2020-01-02'},
                  {value: 42, key: '2020-01-03'},
                ],
              },
            ]}
            showLegend={false}
          />
        </PolarisVizProvider>
      </div>
    }
  />
</ExamplesGrid>
