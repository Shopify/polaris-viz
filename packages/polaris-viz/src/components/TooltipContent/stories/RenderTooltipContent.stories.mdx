import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks';
import {PolarisVizProvider} from '@shopify/polaris-viz';
import {Divider, Title, PropertyTable} from '../../Docs/stories/components';

<Meta
  title="polaris-viz/Subcomponents/TooltipContent/renderTooltipContent"
  parameters={{
    viewMode: 'docs',
    docsOnly: true,
  }}
/>

<PolarisVizProvider>

<div style={{ margin: '0 auto', maxWidth: '800px', color: 'white'}}>
<Title>ðŸ§ª <code>renderTooltipContent</code></Title>

Components that render tooltips accept a prop called <code>renderTooltipContent</code> that allows consumers to pass their own content to the tooltip.

The data passed to <code>renderTooltipContent</code> contains a mix of
formatted data as well as your original <code>DataSeries</code> data.

```tsx
interface RenderTooltipContentData {
  data: {
    shape: Shape;
    data: RenderTooltipDataPoint[];
    name?: string;
  }[];
  activeIndex: number;
  dataSeries: DataSeries[];
  title?: string;
}
```

<Divider />
<Title type="h2">Properties</Title>

<Title type="h3">
  <code>RenderTooltipContentData.data</code>
</Title>

An array that includes <code>DataSeries</code> data formatted to what <code>TooltipContent</code> expects.

```tsx
data: {
  shape: Shape;
  data: RenderTooltipDataPoint[];
  name?: string;
}[];
```

<Title type="h=4">
  <code>RenderTooltipDataPoint</code>
</Title>

<code>RenderTooltipDataPoint</code> extends <code>DataPoint</code> and adds properties
that <code>TooltipContent</code> expects.

```tsx
interface RenderTooltipDataPoint extends DataPoint {
  color: Color;
  isComparison?: boolean;
}
```

<Title type="h3">
  <code>RenderTooltipContentData.activeIndex</code>
</Title>

The index of the data series the tooltip is displaying. This can be triggered by the user hovering, or focusing a series on the chart.

<Title type="h3">
  <code>RenderTooltipContentData.dataSeries</code>
</Title>

The unformatted <code>DataSeries[]</code> array that was passed to the chart. This is useful when you want to display something different than what <code>TooltipContent</code> displays.

<Title type="h3">
  <code>RenderTooltipContentData.title</code>
</Title>

Formatted string for the active data point's key. This is pulled from the first series in <code>DataSeries</code> and then uses the key for the current <code>activeIndex</code>.

</div>
</PolarisVizProvider>
