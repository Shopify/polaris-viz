import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks';

import {
  Divider,
  Title,
} from '../../../../polaris-viz/src/components/Docs/stories/components';

<Meta
  title="Shared/Utilities/Accessibility/Color Vision Events"
  parameters={{
    viewMode: 'docs',
    docsOnly: true,
  }}
/>

<Title type="h2">Color Vision Events</Title>

Charts that include mouse/touch events include a11y events that bring focus to series that are currently being interacted with.

In order for these events to work we use `getColorVisionEventAttrs()` to add data-set attributes to elements in the chart.

Once the chart is responding to our color vision events, we use `getColorVisionStylesForActiveIndex()` to apply the correct opacity to the different series in the chart.

<Title type="h3">
  <code>getColorVisionStylesForActiveIndex()</code>
</Title>

<p>Returns opacity styles for a current active index.</p>

```tsx
getColorVisionStylesForActiveIndex({index: 1, activeIndex: 1});

// {
//   opacity: '0.3',
//   transition: 'opacity 100ms ease',
// }
```

<Title type="h3">
  <code>getColorVisionEventAttrs()</code>
</Title>

<p>
  Returns an object of data-set attributes used to enable the color-vision events
  for an element.
</p>

```tsx
getColorVisionEventAttrs({type: 'single', index: 1});

// {
//   [`data-color-vision-event-watch`]: true,
//   [`data-color-vision-event-type`]: 'single',
//   [`data-color-vision-event-index`]: 1,
// }
```
